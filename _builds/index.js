function u(e,t){let n=e=>Function(...t.map(((e,t)=>"_s"+t)),t.reduce(((e,t,n)=>`with(_s${n}){${e}}`),`return(()=>${e})()`))(...t);try{return n(`(${e})`)}catch(t){return n(`{${e}}`)}}function i(e){let t=[e,new Set];return _=t,e(),_=null,()=>{t[1].forEach((t=>t.delete(e)))}}function y(e,t){if(h.get(e))return h.get(e);let n=e.getAttribute("jul-state"),l=e.getAttribute("jul-effect"),r=e.getAttribute("jul-text"),o=e.getAttribute("jul-show"),s=e.getAttribute("jul-model"),a=e.getAttribute("jul-for"),d=[...e.attributes],f=d.filter((e=>"jul-on"==e.name.split(":")[0])),c=d.filter((e=>"jul-bind"==e.name.split(":")[0])),p=[...t],g=[];if(n){let e=function(e){let t=new Map;return new Proxy(e,{set(e,n,u){if("string"==typeof n)return e[n]=u,t.get(n)?.forEach((e=>e())),e[n]},get(e,n){if("string"==typeof n){if(_){let e=t.get(n)||new Set;e.add(_[0]),_[1].add(e),t.set(n,e)}return e[n]}}})}(u(n,p));p.unshift(e)}if(a){let t=[];g.push(i((()=>{t.forEach((e=>e.remove())),t=[],u(a,p).forEach(((n,u)=>{let l=e.content.children[0].cloneNode();y(l,[{i:u},...p]),e.parentNode.appendChild(l),t.push(l)}))})))}return f.forEach((t=>{let n=t.name.split(":")[1];e.addEventListener(n,(()=>u(t.value,p)))})),c.forEach((t=>{let n=t.name.split(":")[1];if("class"==n){let n=e.className;g.push(i((()=>{e.className=`${n} ${u(t.value,p)}`})))}else g.push(i((()=>{Object.assign(e[n],u(t.value,p))})))})),r&&g.push(i((()=>{e.textContent=u(r,p)}))),l&&g.push(i((()=>{u(l,p)}))),o&&g.push(i((()=>{let t=e.style.display;e.style.display=u(o,p)?t:"none"}))),s&&(g.push(i((()=>{e.value=u(s,p)}))),e.addEventListener("input",(e=>{u(`${s} = '${e.target.value}'`,p)}))),h.set(e,p),v.set(e,(()=>{g.forEach((e=>e())),h.delete(e),v.delete(e)})),p}function E(e=document.body,t=[]){let n=y(e,t);for(let t=0;e.children.length>t;t++)E(e.children[t],n)}var _=null,h=new Map,v=new Map;E(),new MutationObserver((e=>{for(let t of e){for(let e of t.addedNodes)1===e.nodeType&&E();for(let e of t.removedNodes)1===e.nodeType&&v.get(e)?.()}})).observe(document.body,{childList:1,subtree:1});